//@ui5-bundle project1/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"project1/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","project1/model/models"],function(e,t,i){"use strict";return e.extend("project1.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(i.createDeviceModel(),"device")}})});
},
	"project1/controller/App.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller"],function(n){"use strict";return n.extend("project1.controller.App",{onInit:function(){}})});
},
	"project1/controller/View1.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","project1/libs/call","sap/m/MessageBox","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,i,o,r){"use strict";return e.extend("project1.controller.View1",{onInit:function(){let e=setInterval(function(){if(this.getView().getModel("restaurantsModel")){this.getRestaurants();clearInterval(e)}}.bind(this))},getRestaurants:function(){var e=this.getOwnerComponent().getModel("restaurantsModel");var n=this.getView().byId("selectRestaurant");return new Promise(function(i,o){var r=function(e,t){console.log(e);var o=new sap.ui.model.json.JSONModel(e.results);o.setSizeLimit(3e3);n.setModel(o);var r=new sap.ui.core.Item({key:"{Id_restaurant}",text:"{Name}"});n.bindAggregation("items","/",r);i(e)}.bind(this);var s=function(e){console.log(e);o(e)};t.get(this,e,"/getRestaurants",[],{},r,s,null)}.bind(this))},getRestaurantFilterByCity:function(){var e=this.getOwnerComponent().getModel("restaurantsModel");var n=function(e,t){var n=this.getView().getModel("modelTable");if(!n){n=new sap.ui.model.json.JSONModel;n.setSizeLimit(3e3);this.getView().setModel(n,"modelTable")}var i={idEX:e.results[0].Id_restaurant,nameEX:e.results[0].Name,typeEX:e.results[0].Type,openHourEX:e.results[0].Opening_hour,closeHourEX:e.results[0].Closing_hour,cityEX:e.results[0].City};this.getView().getModel("modelTable").setProperty("/results",[i])}.bind(this);var i=function(e){console.log(e)};t.get(this,e,"/getCity",[],{City:"Madrid"},n,i,null)},onCreateRestaurant:function(){var e=this.getOwnerComponent().getModel("restaurantsModel");var n=this.getView().byId("id1").getValue();var i=this.getView().byId("id2").getValue();var o=this.getView().byId("id3").getValue();var r=this.getView().byId("id4").getValue();this.formatHour(r);var s=this.getView().byId("id5").getValue();this.formatHour(s);var a=this.getView().byId("id6").getValue();var l={Id_restaurant:n,Name:i,Type:o,Opening_hour:r,Closing_hour:s,City:a};var u=function(e,t){console.log(e);var n=this.getView().getModel("modelTable");if(!n){n=new sap.ui.model.json.JSONModel;n.setSizeLimit(3e3);this.getView().setModel(n,"modelTable")}var i={};i.idEX=e.createRestaurant.restaurant.Id_restaurant;i.nameEX=e.createRestaurant.restaurant.Name;i.typeEX=e.createRestaurant.restaurant.Type;i.openHourEX=e.createRestaurant.restaurant.Opening_hour;i.closeHourEX=e.createRestaurant.restaurant.Closing_hour,i.cityEX=e.createRestaurant.restaurant.City,this.getView().getModel("modelTable").setProperty("/results2",[i])}.bind(this);var d=function(e){console.log(e)};t.create(this,e,"/createRestaurant",l,u,d,{})},formatHour:function(e){if(!e.includes(".")){e+=".000"}return e},getOpinions:function(){var e=this.getOwnerComponent().getModel("restaurantsModel");return new Promise(function(n,i){var o=function(e,t){console.log(e)}.bind(this);var r=function(e){console.log(e);i(e)};t.get(this,e,"/getOpinions",[],{},o,r,null)}.bind(this))},getCustomersNorthwind:function(){var e=this.getOwnerComponent().getModel("restaurantsModel");var n=function(e,t){console.log(e)}.bind(this);var i=function(e){console.log(e)};t.get(this,e,"/Customer",[],{},n,i,null)},getApi:function(){var e=this.getOwnerComponent().getModel("restaurantsModel");var n=function(e,t){console.log(e)}.bind(this);var i=function(e){console.log(e)};t.get(this,e,"/jokesapi",[],{},n,i,null)},getMenus:function(){var e=this.getOwnerComponent().getModel("menusModel");return new Promise(function(n,i){var o=function(e,t){console.log(e)}.bind(this);var r=function(e){console.log(e);i(e)};t.get(this,e,"/getMenus",[],{},o,r,null)}.bind(this))},onCreateMenu:function(){var e=this.getOwnerComponent().getModel("menusModel");var n=this.getView().byId("id7").getValue();var i=this.getView().byId("id8").getValue();var o=this.getView().byId("id9").getValue();var r=this.getView().byId("id10").getValue();var s=this.getView().byId("id11").getValue();var a={Name:n,Price:i,Description:o,Spiciness:r,Availability:s};var l=function(e,t){console.log(e);var n=this.getView().getModel("modelTable2");if(!n){n=new sap.ui.model.json.JSONModel;n.setSizeLimit(3e3);this.getView().setModel(n,"modelTable2")}var i={};i.nameeEX=e.createMenu.menu.Name;i.priceeEX=e.createMenu.menu.Price;i.descriptionnEX=e.createMenu.menu.Description;i.spiceEX=e.createMenu.menu.Spiciness;i.availableEX=e.createMenu.menu.Availability,this.getView().getModel("modelTable2").setProperty("/results2",[i])}.bind(this);var u=function(e){console.log(e)};t.create(this,e,"/createMenu",a,l,u,{})}})});
},
	"project1/i18n/i18n.properties":'# This is the resource bundle for project1\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=App Title\nappSubTitle=App Subtitle\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=App Title',
	"project1/libs/call.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device","sap/ui/model/resource/ResourceModel"],function(e,r,s){"use strict";return{get:function(e,r,s,t,a,o,i,n){if(n===undefined||n===null||n===""){n=[]}var u=this;var c=function(r,s){var t=s.headers["sap-message"];if(t&&(JSON.parse(t).severity==="error"||JSON.parse(t).code==="ZPM_MSG/150")){var a={statusCode:"400",statusText:JSON.parse(t).message};u.error(a,e)}else{if(o){o(r,s)}}};var l=function(r){if(i){i(r)}u.error(r,e)};r.read(s,{urlParameters:a,filters:t,sorters:n,success:c,error:l})},create:function(e,r,s,t,a,o,i){var n=this;var u=function(r,s){var t=s.headers["sap-message"];if(t&&(JSON.parse(t).severity==="error"||JSON.parse(t).code==="ZPM_MSG/150")){var o={statusCode:"400",statusText:JSON.parse(s.headers["sap-message"]).message};n.error(o,e)}else{if(s.statusCode.indexOf("20")!==-1){if(a){a(r,s)}}else{var o={statusCode:s.statusCode,statusText:s.statusText};n.error(o,e)}}};var c=function(r){if(o){o(r)}n.error(r,e)};r.create(s,t,{success:u,error:c,urlParameters:i})},update:function(e,r,s,t,a,o,i,n){var u=this;var c=function(r,s){var t=s.headers["sap-message"];if(t&&(JSON.parse(t).severity==="error"||JSON.parse(t).code==="ZPM_MSG/150")){var a={statusCode:"400",statusText:JSON.parse(s.headers["sap-message"]).message};u.error(a,e)}else{if(i){i(r,s)}}};var l=function(r){if(n){n(r)}if(JSON.parse(r.responseText)){if(JSON.parse(r.responseText).error.innererror.statusCode===409){r={statusCode:"400",statusText:JSON.parse(r.responseText).error.innererror.statusText};u.error(r,e)}}else{u.error(r,e)}};r.update(s+"('"+t+"')",a,{success:c,error:l,urlParameters:o})},updateMulti:function(e,r,s,t,a,o,i,n,u){var c=this;var l=function(r,s){var t=s.headers["sap-message"];if(t&&(JSON.parse(t).severity==="error"||JSON.parse(t).code==="ZPM_MSG/150")){var a={statusCode:"400",statusText:JSON.parse(s.headers["sap-message"]).message};c.error(a,e,u)}else{if(i){i(r,s)}}};var p=function(r){if(n){n(r)}c.error(r,e,u)};r.update(s+"("+t+")",a,{success:l,error:p,urlParameters:o})},delete:function(e,r,s,t,a,o){var i=this;var n=function(r,s){var a=s.headers["sap-message"];if(a&&(JSON.parse(a).severity==="error"||JSON.parse(a).code==="ZPM_MSG/150")){var n={statusCode:"400",statusText:JSON.parse(s.headers["sap-message"]).message};i.error(n,e,o)}else{if(t){t(r,s)}}};var u=function(r){if(a){a(r)}i.error(r,e,o)};r.delete(s,{success:n,error:u})},error:function(e,r,s){var t="";var a=r.getView().getModel("i18n").getResourceBundle();r.getView().setBusy(false);switch(e.statusCode){case 0:t=a.getText("Error");break;case"400":if(e.responseText&&(JSON.parse(e.responseText).error.code.includes("/IWFND/CM_MGW")||JSON.parse(e.responseText).error.code.includes("SY"))){t=JSON.parse(e.responseText).error.message.value}else{t=e.statusText}break;case"403":t=a.getText("Error403");break;case"404":t=a.getText("Error404");break;case"500":t=a.getText("Error500");break;case"504":t=a.getText("Error504");break;default:t=a.getText("ErrorDefault");break}try{sap.m.MessageBox.error(t,{title:"Error",onClose:function(){if(s){s()}},styleClass:"",id:"Error",actions:sap.m.MessageBox.Action.CLOSE,emphasizedAction:null,initialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit})}catch(e){console.log("Multiples errror messages")}},errorXS:function(e,r,s,t){var a;var o=e.getView().getModel("i18n").getResourceBundle();if(e){if(e.getView()){e.getView().setBusy(false)}}switch(r.status){case 0:a=o.getText("Error");break;case 403:a=o.getText("Error403");break;case 404:a=o.getText("Error404");break;case 500:a=o.getText("Error500");break;case 504:a=o.getText("Error504");break;default:a=r.responseJSON.response;break}try{sap.m.MessageBox.error(a,{title:"Error",onClose:function(){if(s){s()}},styleClass:"",id:"Error",actions:sap.m.MessageBox.Action.CLOSE,emphasizedAction:null,initialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit})}catch(e){console.log("Multiple error messages")}}}});
},
	"project1/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"project1","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.12.4","toolsId":"9f4ad570-2831-43dd-aff5-c39e9a52c3f9"},"dataSources":{"restaurantService":{"uri":"v2/odata/v4/restaurantes-srv/","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"menusService":{"uri":"v2/odata/v4/menus-srv/","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}}},"crossNavigation":{"inbounds":{"intent1":{"signature":{"parameters":{},"additionalParameters":"allowed"},"semanticObject":"Project1","action":"Display","title":"{{appTitle}}","info":"{{appTitle}}","subTitle":"{{appSubTitle}}","icon":"sap-icon://account"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.120.8","libs":{"sap.m":{},"sap.ui.core":{},"sap.f":{},"sap.suite.ui.generic.template":{},"sap.ui.comp":{},"sap.ui.generic.app":{},"sap.ui.table":{},"sap.ushell":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"project1.i18n.i18n"}},"restaurantsModel":{"dataSource":"restaurantService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"menusModel":{"dataSource":"menusService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"project1.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"RouteView1","pattern":":?query:","target":["TargetView1"]}],"targets":{"TargetView1":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"View1","viewName":"View1"}}},"rootView":{"viewName":"project1.view.App","type":"XML","async":true,"id":"App"}},"sap.cloud":{"public":true,"service":"CAPCompleto.managedapprouter"}}',
	"project1/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"project1/view/App.view.xml":'<mvc:View controllerName="project1.controller.App"\n    xmlns:html="http://www.w3.org/1999/xhtml"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"><App id="app"></App></mvc:View>\n',
	"project1/view/View1.view.xml":'<mvc:View controllerName="project1.controller.View1"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"><Page id="page" title="{i18n>title}"><Title text="Restaurantes" level="H1" titleStyle="H3"/><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Restaurant ID"/><SearchField xmlns="sap.m" id="id1" class="searchField2" liveChange="onSearch"/></HBox><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Name"/><SearchField xmlns="sap.m" id="id2" class="searchField2" liveChange="onSearch"/></HBox><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Type"/><SearchField xmlns="sap.m" id="id3" class="searchField2" liveChange="onSearch"/></HBox><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Opening Hour"/><TimePicker xmlns="sap.m" id="id4" class="searchField2" liveChange="onSearch"/></HBox><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Closing Hour"/><TimePicker xmlns="sap.m" id="id5" class="searchField2" liveChange="onSearch"/></HBox><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="City"/><SearchField xmlns="sap.m" id="id6" class="searchField2" liveChange="onSearch"/></HBox><Button text="Crear Restaurante" press="onCreateRestaurant"/><Button text="Filtrado restaurante por ciudad" press="getRestaurantFilterByCity"/><Button text="Ver opiniones" press="getOpinions"/><Button text="Ver datos northwind" press="getCustomersNorthwind"/><Button text="Ver datos API" press="getApi"/><Bar><contentLeft><Label text="Elegir Restaurante"/><ComboBox id="selectRestaurant" selectionChange="getKey" showSecondaryValues= "true"></ComboBox></contentLeft></Bar><Table items="{modelTable>/results}"><columns><Column><Label text="ID"/></Column><Column><Label text="Nombre"/></Column><Column><Label text="Tipo"/></Column><Column><Label text="Hora apertura"/></Column><Column><Label text="Hora cierre"/></Column><Column><Label text="Ciudad"/></Column></columns><items><ColumnListItem><cells><Text text="{modelTable>idEX}"/><Text text="{modelTable>nameEX}"/><Text text="{modelTable>typeEX}"/><Text text="{modelTable>openHourEX}"/><Text text="{modelTable>closeHourEX}"/><Text text="{modelTable>cityEX}"/></cells></ColumnListItem></items></Table><Title text="Menus" level="H1" titleStyle="H3"/><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Nombre "/><SearchField xmlns="sap.m" id="id7" class="searchField2" liveChange="onSearch"/></HBox><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Precio (decimal)"/><SearchField xmlns="sap.m" id="id8" class="searchField2" liveChange="onSearch"/></HBox><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Descripcion"/><SearchField xmlns="sap.m" id="id9" class="searchField2" liveChange="onSearch"/></HBox><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Grado picante (1 al 10)"/><SearchField xmlns="sap.m" id="id10" class="searchField2" liveChange="onSearch"/></HBox><HBox alignContent="Center" alignItems="Center" justifyContent="SpaceBetween" class="searchField"><Label text="Disponible (true / false)"/><SearchField xmlns="sap.m" id="id11" class="searchField2" liveChange="onSearch"/></HBox><Button text="Crear Menu" press="onCreateMenu"/><Button text="Ver menus" press="getMenus"/><Table items="{modelTable2>/results2}"><columns><Column><Label text="Nombre"/></Column><Column><Label text="Precio"/></Column><Column><Label text="Descripcion"/></Column><Column><Label text="Grado picante"/></Column><Column><Label text="Disponible"/></Column></columns><items><ColumnListItem><cells><Text text="{modelTable2>nameeEX}"/><Text text="{modelTable2>priceeEX}"/><Text text="{modelTable2>descriptionnEX}"/><Text text="{modelTable2>spiceEX}"/><Text text="{modelTable2>availableEX}"/></cells></ColumnListItem></items></Table><content /></Page></mvc:View>\n\n\n\n'
}});
